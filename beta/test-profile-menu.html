<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –ø—Ä–æ—Ñ–∏–ª—è</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        #sidebar { width: 300px; background: #f8f9fa; border: 1px solid #dee2e6; padding: 20px; margin-bottom: 20px; }
        .test-result { margin: 10px 0; padding: 10px; background: #e7f3ff; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        #profile-trigger { width: 100%; display: flex; align-items: center; gap: 12px; padding: 12px; border: 1px solid #ddd; border-radius: 8px; background: white; cursor: pointer; transition: background 0.2s; }
        #profile-trigger:hover { background: #f8f9fa; }
        #profile-dropdown { position: absolute; bottom: 100%; left: 0; right: 0; margin-bottom: 8px; background: white; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); padding: 8px 0; }
        #profile-dropdown.hidden { display: none; }
        #profile-avatar { width: 40px; height: 40px; border-radius: 50%; background: #007bff; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; }
        #logout-button { width: 100%; display: flex; align-items: center; gap: 12px; padding: 8px 16px; border: none; background: transparent; color: #dc3545; cursor: pointer; text-align: left; }
        #logout-button:hover { background: #f8d7da; }
    </style>
</head>
<body>
    <h1>–¢–µ—Å—Ç –º–µ–Ω—é –ø—Ä–æ—Ñ–∏–ª—è</h1>
    
    <div id="sidebar">
        <h3>–°–∞–π–¥–±–∞—Ä</h3>
        <div id="sidebar-profile">
            <div id="profile-menu" class="relative">
                <button id="profile-trigger" class="w-full flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors duration-200">
                    <div id="profile-avatar" class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center">
                        <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                    </div>
                    <div class="flex-1 text-left min-w-0">
                        <div id="profile-name" class="text-sm font-medium text-gray-900 truncate">
                            –¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
                        </div>
                        <div id="profile-role" class="text-xs text-gray-500 truncate">
                            Fleet Manager
                        </div>
                    </div>
                    <svg id="profile-chevron" class="w-4 h-4 text-gray-400 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </button>
                
                <div id="profile-dropdown" class="hidden absolute bottom-full left-0 right-0 mb-2 bg-white rounded-lg border border-gray-200 shadow-lg py-2 z-50">
                    <div class="px-4 py-2 border-b border-gray-100">
                        <div class="text-sm font-medium text-gray-900" id="dropdown-profile-name">–¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</div>
                        <div class="text-xs text-gray-500" id="dropdown-profile-email">test@skyluxse.ae</div>
                    </div>
                    
                    <button id="profile-settings" class="w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors duration-150">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è
                    </button>
                    
                    <button id="logout-button" class="w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors duration-150">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                        </svg>
                        –í—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="test-results">
        <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
        
        <div class="test-result success">
            ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
        </div>
        
        <div class="test-result success">
            ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é —Å–æ–∑–¥–∞–Ω–æ
        </div>
        
        <div class="test-result success">
            ‚úÖ –ö–Ω–æ–ø–∫–∞ "–í—ã–π—Ç–∏" –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
        </div>
        
        <div id="menu-test" class="test-result">
            üîÑ –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–µ–Ω—é
        </div>
    </div>

    <script>
        let profileMenuOpen = false;

        function toggleProfileMenu() {
            const profileDropdown = document.getElementById('profile-dropdown');
            const profileTrigger = document.getElementById('profile-trigger');
            const profileChevron = document.getElementById('profile-chevron');
            
            if (!profileDropdown || !profileTrigger) return;

            if (profileMenuOpen) {
                profileDropdown.classList.add('hidden');
                profileTrigger.setAttribute('aria-expanded', 'false');
                if (profileChevron) {
                    profileChevron.style.transform = 'rotate(0deg)';
                }
                profileMenuOpen = false;
                document.getElementById('menu-test').textContent = '‚úÖ –ú–µ–Ω—é –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ';
                document.getElementById('menu-test').className = 'test-result success';
            } else {
                profileDropdown.classList.remove('hidden');
                profileTrigger.setAttribute('aria-expanded', 'true');
                if (profileChevron) {
                    profileChevron.style.transform = 'rotate(180deg)';
                }
                profileMenuOpen = true;
                document.getElementById('menu-test').textContent = '‚úÖ –ú–µ–Ω—é –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ';
                document.getElementById('menu-test').className = 'test-result success';
            }
        }

        function handleLogout() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã?')) {
                alert('–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω: –∫–Ω–æ–ø–∫–∞ "–í—ã–π—Ç–∏" —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!');
            }
        }

        function closeProfileMenu() {
            const profileDropdown = document.getElementById('profile-dropdown');
            const profileTrigger = document.getElementById('profile-trigger');
            const profileChevron = document.getElementById('profile-chevron');
            
            if (!profileDropdown || !profileTrigger) return;

            profileDropdown.classList.add('hidden');
            profileTrigger.setAttribute('aria-expanded', 'false');
            if (profileChevron) {
                profileChevron.style.transform = 'rotate(0deg)';
            }
            profileMenuOpen = false;
        }

        document.getElementById('profile-trigger').addEventListener('click', (e) => {
            e.stopPropagation();
            toggleProfileMenu();
        });

        document.getElementById('logout-button').addEventListener('click', (e) => {
            e.preventDefault();
            handleLogout();
        });

        document.getElementById('profile-settings').addEventListener('click', (e) => {
            e.preventDefault();
            closeProfileMenu();
            alert('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Å–ª–µ–¥—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏.');
        });

        document.addEventListener('click', (e) => {
            const profileDropdown = document.getElementById('profile-dropdown');
            const profileTrigger = document.getElementById('profile-trigger');
            if (profileDropdown && !profileDropdown.classList.contains('hidden') && 
                !profileDropdown.contains(e.target) && !profileTrigger.contains(e.target)) {
                closeProfileMenu();
            }
        });

        console.log('‚úÖ –¢–µ—Å—Ç –ø—Ä–æ—Ñ–∏–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
    </script>
</body>
</html>